"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("pdfjs-dist");function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r,o,a,i,c,s,l,u=n(e),p=n(t);exports.AnnotationType=void 0,(r=exports.AnnotationType||(exports.AnnotationType={}))[r.Text=1]="Text",r[r.Link=2]="Link",r[r.FreeText=3]="FreeText",r[r.Line=4]="Line",r[r.Square=5]="Square",r[r.Circle=6]="Circle",r[r.Polygon=7]="Polygon",r[r.Polyline=8]="Polyline",r[r.Highlight=9]="Highlight",r[r.Underline=10]="Underline",r[r.Squiggly=11]="Squiggly",r[r.StrikeOut=12]="StrikeOut",r[r.Stamp=13]="Stamp",r[r.Caret=14]="Caret",r[r.Ink=15]="Ink",r[r.Popup=16]="Popup",r[r.FileAttachment=17]="FileAttachment",exports.LayerRenderStatus=void 0,(o=exports.LayerRenderStatus||(exports.LayerRenderStatus={}))[o.PreRender=0]="PreRender",o[o.DidRender=1]="DidRender",exports.Position=void 0,(a=exports.Position||(exports.Position={})).TopLeft="TOP_LEFT",a.TopCenter="TOP_CENTER",a.TopRight="TOP_RIGHT",a.RightTop="RIGHT_TOP",a.RightCenter="RIGHT_CENTER",a.RightBottom="RIGHT_BOTTOM",a.BottomLeft="BOTTOM_LEFT",a.BottomCenter="BOTTOM_CENTER",a.BottomRight="BOTTOM_RIGHT",a.LeftTop="LEFT_TOP",a.LeftCenter="LEFT_CENTER",a.LeftBottom="LEFT_BOTTOM",exports.RotateDirection=void 0,(i=exports.RotateDirection||(exports.RotateDirection={})).Backward="Backward",i.Forward="Forward",exports.ScrollMode=void 0,(c=exports.ScrollMode||(exports.ScrollMode={})).Horizontal="Horizontal",c.Vertical="Vertical",c.Wrapped="Wrapped",exports.SpecialZoomLevel=void 0,(s=exports.SpecialZoomLevel||(exports.SpecialZoomLevel={})).ActualSize="ActualSize",s.PageFit="PageFit",s.PageWidth="PageWidth",exports.ToggleStatus=void 0,(l=exports.ToggleStatus||(exports.ToggleStatus={})).Close="Close",l.Open="Open",l.Toggle="Toggle";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var d=function(e,t){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},d(e,t)};function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var v,g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},g.apply(this,arguments)};exports.TextDirection=void 0,(v=exports.TextDirection||(exports.TextDirection={})).RightToLeft="RTL",v.LeftToRight="LTR";var h,m=u.createContext({currentTheme:"light",direction:exports.TextDirection.LeftToRight,setCurrentTheme:function(){}}),x=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},w="undefined"!=typeof window?u.useLayoutEffect:u.useEffect,_=function(e){var t=u.useRef(null),n=e.once,r=e.threshold,o=e.onVisibilityChanged;return w((function(){var e=t.current;if(e){var a=new IntersectionObserver((function(t){t.forEach((function(t){var r=t.isIntersecting,i=t.intersectionRatio;o({isVisible:r,ratio:i}),r&&n&&(a.unobserve(e),a.disconnect())}))}),{threshold:r||0});return a.observe(e),function(){a.unobserve(e),a.disconnect()}}}),[]),t},E=function(e){var t=e.children,n=e.ignoreDirection,r=void 0!==n&&n,o=e.size,a=void 0===o?24:o,i=u.useContext(m).direction,c=!r&&i===exports.TextDirection.RightToLeft,s="".concat(a||24,"px");return u.createElement("svg",{"aria-hidden":"true",className:x({"rpv-core__icon":!0,"rpv-core__icon--rtl":c}),focusable:"false",height:s,viewBox:"0 0 24 24",width:s},t)},y=function(){return u.createElement(E,{size:16},u.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},R=function(e){var t=e.children,n=e.testId,r=e.onClick,o=u.useContext(m).direction===exports.TextDirection.RightToLeft,a=n?{"data-testid":n}:{};return u.createElement("button",g({className:x({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":o}),type:"button",onClick:r},a),t)},b=function(e){var t=e.size,n=void 0===t?"4rem":t,r=e.testId,o=u.useState(!1),a=o[0],i=o[1],c=r?{"data-testid":r}:{},s=_({onVisibilityChanged:function(e){i(e.isVisible)}});return u.createElement("div",g({},c,{className:x({"rpv-core__spinner":!0,"rpv-core__spinner--animating":a}),ref:s,style:{height:n,width:n}}))},k=function(e){var t=e.ariaLabel,n=void 0===t?"":t,r=e.autoFocus,o=void 0!==r&&r,a=e.placeholder,i=void 0===a?"":a,c=e.testId,s=e.type,l=void 0===s?"text":s,p=e.value,d=void 0===p?"":p,f=e.onChange,v=e.onKeyDown,h=void 0===v?function(){}:v,_=u.useContext(m).direction,E=u.useRef(),y=_===exports.TextDirection.RightToLeft,R={ref:E,"data-testid":"","aria-label":n,className:x({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":y}),placeholder:i,value:d,onChange:function(e){return f(e.target.value)},onKeyDown:h};return c&&(R["data-testid"]=c),w((function(){if(o){var e=E.current;if(e){var t=window.scrollX,n=window.scrollY;e.focus(),window.scrollTo(t,n)}}}),[]),"text"===l?u.createElement("input",g({type:"text"},R)):u.createElement("input",g({type:"password"},R))},S=function(e,t,n){var r=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};u.useEffect((function(){if(e){var t={capture:!0};return document.addEventListener("click",r,t),function(){document.removeEventListener("click",r,t)}}}),[])},P=function(e){var t=function(t){"Escape"===t.key&&e()};u.useEffect((function(){return document.addEventListener("keyup",t),function(){document.removeEventListener("keyup",t)}}),[])},T=function(e){var t=e.ariaControlsSuffix,n=e.children,r=e.closeOnClickOutside,o=e.closeOnEscape,a=e.onToggle,i=u.useRef(),c=u.useContext(m).direction===exports.TextDirection.RightToLeft;return u.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),P((function(){i.current&&o&&a()})),S(r,i,a),w((function(){var e=i.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight="".concat(t,"px"))}}),[]),u.createElement("div",{"aria-modal":"true",className:x({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":c}),id:"rpv-core__modal-body-".concat(t),ref:i,role:"dialog",tabIndex:-1},n)},C=function(e){var t=e.children;return u.createElement("div",{className:"rpv-core__modal-overlay"},t)},L=function(e){var t=u.useState(e),n=t[0],r=t[1];return{opened:n,toggle:function(e){switch(e){case exports.ToggleStatus.Close:r(!1);break;case exports.ToggleStatus.Open:r(!0);break;case exports.ToggleStatus.Toggle:default:r((function(e){return!e}))}}}},O=function(e){var t=e.content,n=e.isOpened,r=void 0!==n&&n,o=e.target,a=L(r),i=a.opened,c=a.toggle;return u.createElement(u.Fragment,null,o&&o(c,i),i&&t(c))},M=0,I=function(){return M++},H=function(e,t,n,r,o){w((function(){var a=t.current,i=e.current,c=n.current;if(i&&a&&c){var s=c.getBoundingClientRect(),l=function(e,t,n,r){var o=t.getBoundingClientRect(),a=e.getBoundingClientRect(),i=a.height,c=a.width,s=0,l=0;switch(n){case exports.Position.TopLeft:s=o.top-i,l=o.left;break;case exports.Position.TopCenter:s=o.top-i,l=o.left+o.width/2-c/2;break;case exports.Position.TopRight:s=o.top-i,l=o.left+o.width-c;break;case exports.Position.RightTop:s=o.top,l=o.left+o.width;break;case exports.Position.RightCenter:s=o.top+o.height/2-i/2,l=o.left+o.width;break;case exports.Position.RightBottom:s=o.top+o.height-i,l=o.left+o.width;break;case exports.Position.BottomLeft:s=o.top+o.height,l=o.left;break;case exports.Position.BottomCenter:s=o.top+o.height,l=o.left+o.width/2-c/2;break;case exports.Position.BottomRight:s=o.top+o.height,l=o.left+o.width-c;break;case exports.Position.LeftTop:s=o.top,l=o.left-c;break;case exports.Position.LeftCenter:s=o.top+o.height/2-i/2,l=o.left-c;break;case exports.Position.LeftBottom:s=o.top+o.height-i,l=o.left-c}return{left:l+(r.left||0),top:s+(r.top||0)}}(i,a,r,o),u=l.top,p=l.left;i.style.top="".concat(u-s.top,"px"),i.style.left="".concat(p-s.left,"px")}}),[])},A=function(e){var t,n=e.customClassName,r=e.position;return u.createElement("div",{className:x((t={"rpv-core__arrow":!0,"rpv-core__arrow--tl":r===exports.Position.TopLeft,"rpv-core__arrow--tc":r===exports.Position.TopCenter,"rpv-core__arrow--tr":r===exports.Position.TopRight,"rpv-core__arrow--rt":r===exports.Position.RightTop,"rpv-core__arrow--rc":r===exports.Position.RightCenter,"rpv-core__arrow--rb":r===exports.Position.RightBottom,"rpv-core__arrow--bl":r===exports.Position.BottomLeft,"rpv-core__arrow--bc":r===exports.Position.BottomCenter,"rpv-core__arrow--br":r===exports.Position.BottomRight,"rpv-core__arrow--lt":r===exports.Position.LeftTop,"rpv-core__arrow--lc":r===exports.Position.LeftCenter,"rpv-core__arrow--lb":r===exports.Position.LeftBottom},t["".concat(n)]=""!==n,t))})},D=function(e){var t=e.ariaControlsSuffix,n=e.children,r=e.closeOnClickOutside,o=e.offset,a=e.position,i=e.targetRef,c=e.onClose,s=u.useRef(),l=u.useRef(),p=u.useRef(),d=u.useContext(m).direction===exports.TextDirection.RightToLeft;S(r,s,c),H(s,i,p,a,o),w((function(){var e=l.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight="".concat(t,"px"))}}),[]);var f="rpv-core__popover-body-inner-".concat(t);return u.createElement(u.Fragment,null,u.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),u.createElement("div",{"aria-describedby":f,className:x({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":d}),id:"rpv-core__popover-body-".concat(t),ref:s,role:"dialog",tabIndex:-1},u.createElement(A,{customClassName:"rpv-core__popover-body-arrow",position:a}),u.createElement("div",{id:f,ref:l},n)))},N=function(e){var t=e.closeOnEscape,n=e.onClose,r=u.useRef();return P((function(){r.current&&t&&n()})),u.createElement("div",{className:"rpv-core__popover-overlay",ref:r})},B=function(e){var t=e.ariaControlsSuffix,n=e.children,r=e.contentRef,o=e.offset,a=e.position,i=e.targetRef,c=u.useRef(),s=u.useContext(m).direction===exports.TextDirection.RightToLeft;return H(r,i,c,a,o),u.createElement(u.Fragment,null,u.createElement("div",{ref:c,style:{left:0,position:"absolute",top:0}}),u.createElement("div",{className:x({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":s}),id:"rpv-core__tooltip-body-".concat(t),ref:r,role:"tooltip"},u.createElement(A,{customClassName:"rpv-core__tooltip-body-arrow",position:a}),u.createElement("div",{className:"rpv-core__tooltip-body-content"},n)))};!function(e){e.NotRenderedYet="NotRenderedYet",e.Rendering="Rendering",e.Rendered="Rendered"}(h||(h={}));var z={},F=function(e){var t=e.doc,n=e.queueName;e.priority;var r=t.numPages,o="".concat(n,"___").concat(t.loadingTask.docId),a=function(){z[o]=Array(r).fill(null).map((function(e,t){return{pageIndex:t,renderStatus:h.NotRenderedYet,visibility:-9999}}))};return a(),{OUT_OF_RANGE_VISIBILITY:-9999,cleanup:function(){z[o]=[]},getHighestPriorityPage:function(){var e=z[o].filter((function(e){return e.visibility>-9999}));if(!e.length)return-1;for(var t=e[0].pageIndex,n=e[e.length-1].pageIndex,a=e.length,i=0;i<a;i++){if(e[i].renderStatus===h.Rendering)return-1;if(e[i].renderStatus===h.NotRenderedYet)return e[i].pageIndex}return n+1<r&&z[o][n+1].renderStatus!==h.Rendered?n+1:t-1>=0&&z[o][t-1].renderStatus!==h.Rendered?t-1:-1},markRendered:function(e){z[o][e].renderStatus=h.Rendered},markRendering:function(e){z[o][e].renderStatus=h.Rendering},resetQueue:a,setRange:function(e,t){for(var n=0;n<r;n++)(n<e||n>t)&&(z[o][n].visibility=-9999,z[o][n].renderStatus=h.NotRenderedYet)},setVisibility:function(e,t){z[o][e].visibility=t}}};var W={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},V=u.createContext({l10n:W,setL10n:function(){}});function j(e){var t=u.useRef(e);return u.useEffect((function(){t.current=e}),[e]),t.current}var q,U=function(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e},Z=function(){var e=u.useRef(!1);return u.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e},G={left:0,top:0},Y={capture:!1,passive:!0},J=function(e){var t=e.elementRef,n=e.isRtl,r=e.scrollMode,o=function(e){var t=Z(),n=u.useRef(0),r=u.useState(e),o=r[0],a=r[1],i=u.useCallback((function(e){cancelAnimationFrame(n.current),n.current=requestAnimationFrame((function(){t.current&&a(e)}))}),[]);return u.useEffect((function(){return function(){cancelAnimationFrame(n.current)}}),[]),[o,i]}(G),a=o[0],i=o[1],c=u.useState(t.current),s=c[0],l=c[1],p=n?-1:1,d=u.useRef(r);return d.current=r,w((function(){l(t.current)})),w((function(){if(s){var e=function(){switch(d.current){case exports.ScrollMode.Horizontal:i({left:p*s.scrollLeft,top:0});break;case exports.ScrollMode.Vertical:default:i({left:0,top:s.scrollTop})}};return s.addEventListener("scroll",e,Y),function(){s.removeEventListener("scroll",e,Y)}}}),[s]),{scrollOffset:a,scrollTo:u.useCallback((function(e){var n=t.current;if(n)switch(d.current){case exports.ScrollMode.Horizontal:n.scrollLeft=p*e.left;break;case exports.ScrollMode.Vertical:default:n.scrollTop=e.top}}),[t])}},Q={height:0,width:0},X={left:0,top:0},K=function(e){var t=e.estimateSize,n=e.isRtl,r=e.numberOfItems,o=e.setStartRange,a=e.setEndRange,i=e.parentRef,c=e.scrollMode,s=e.transformSize,l=J({elementRef:i,isRtl:n,scrollMode:c}),p=l.scrollOffset,d=l.scrollTo,f=function(e){var t=e.elementRef,n=u.useState(t.current),r=n[0],o=n[1],a=u.useRef(!1),i=u.useReducer(U,{height:0,width:0}),c=i[0],s=i[1];return w((function(){t.current!==r&&o(t.current)})),w((function(){if(r&&!a.current){a.current=!0;var e=r.getBoundingClientRect(),t=e.height,n=e.width;s({rect:{height:t,width:n}})}}),[r]),u.useEffect((function(){if(r){var e=new ResizeObserver((function(e,t){e.forEach((function(e){if(e.target===r){var t=e.contentRect,n=t.height,o=t.width;s({rect:{height:n,width:o}})}}))}));return e.observe(r),function(){e.unobserve(r)}}}),[r]),c}({elementRef:i}),v=u.useRef({scrollOffset:X,measurements:[],parentRect:Q,totalSize:Q});v.current.scrollOffset=p,v.current.parentRect=f;var h=u.useState({}),m=h[0],x=h[1],_=u.useMemo((function(){for(var e=[],n=0,o={left:0,top:0},a=0,i=0;i<r;i++){var l=m[i]||s(t(i)),u=X;if(0===i)n=l.width,o={left:0,top:0},a=l.height;else switch(c){case exports.ScrollMode.Wrapped:(n+=l.width)<f.width?(u={left:e[i-1].end.left,top:o.top},a=Math.max(a,l.height)):(n=l.width,o={left:(u={left:o.left,top:o.top+a}).left,top:u.top},a=l.height);break;case exports.ScrollMode.Horizontal:case exports.ScrollMode.Vertical:default:u=e[i-1].end}var p={left:u.left+l.width,top:u.top+l.height};e[i]={index:i,start:u,size:l,end:p,visibility:-1}}return e}),[t,c,f,m,s]),E=_[r-1]?{height:_[r-1].end.top,width:_[r-1].end.left}:Q;v.current.measurements=_,v.current.totalSize=E;var y=function(e,t,n,r){var o=0;switch(e){case exports.ScrollMode.Horizontal:o=r.left;break;case exports.ScrollMode.Vertical:default:o=r.top}var a=t.length-1,i=function(e,t,n,r){for(;e<=t;){var o=(e+t)/2|0,a=r(o);if(a<n)e=o+1;else{if(!(a>n))return o;t=o-1}}return e>0?e-1:0}(0,a,o,(function(n){switch(e){case exports.ScrollMode.Horizontal:return t[n].start.left;case exports.ScrollMode.Wrapped:case exports.ScrollMode.Vertical:default:return t[n].start.top}}));if(e===exports.ScrollMode.Wrapped)for(var c=t[i].start.top;i-1>=0&&t[i-1].start.top===c&&t[i-1].start.left>=r.left;)i--;for(var s=i,l={},u=i,p=-1;s<=a;){var d=t[s].size,f={width:0,height:0},v={top:t[s].start.top-r.top,left:t[s].start.left-r.left},g={height:n.height-v.top,width:n.width-v.left};if(e===exports.ScrollMode.Horizontal&&g.width<0){s--;break}if(e===exports.ScrollMode.Vertical&&g.height<0){s--;break}if(e===exports.ScrollMode.Wrapped&&(g.width<0||g.height<0)){s--;break}if(e===exports.ScrollMode.Vertical)f.width=1;else if(v.left<0){var h=d.width- -v.left;f.width=h<=n.width?h/n.width:1}else f.width=d.width<=g.width?1:g.width/d.width;if(e===exports.ScrollMode.Horizontal)f.height=1;else if(v.top<0){var m=d.height- -v.top;f.height=m<=n.height?m/n.height:1}else f.height=d.height<=g.height?1:g.height/d.height;l[s]=f.width*f.height,p<l[s]&&(p=l[s],u=s),s++}return{start:i,end:s,maxVisbilityIndex:u,visibilities:l}}(c,v.current.measurements,v.current.parentRect,v.current.scrollOffset),R=y.maxVisbilityIndex,b=y.visibilities,k=y.start,S=y.end,P=o(k),T=a(S),C=u.useMemo((function(){for(var e=[],t=function(t){var n=_[t],r=g(g({},n),{visibility:void 0!==b[t]?b[t]:-1,measureRef:function(e){if(e){var r=e.getBoundingClientRect();if(0!==r.height||0!==r.width){var o=s({height:r.height,width:r.width});o.height===n.size.height&&o.width===n.size.width||x((function(e){var n;return g(g({},e),((n={})[t]=o,n))}))}}}});e.push(r)},n=P;n<=T;n++)t(n);return e}),[s,b,_]),L=u.useCallback((function(e,t){var n,o,a,i=v.current.measurements[(n=0,o=r-1,a=e,Math.max(n,Math.min(a,o)))];i&&d({left:t.left+i.start.left,top:t.top+i.start.top})}),[d]),O=u.useCallback((function(){switch(c){case exports.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(E.width,"px")};case exports.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(E.height,"px"),width:"100%"}}}),[c,E]),M=u.useCallback((function(e){var t,r,o,a=n?"right":"left",i=n?-1:1;switch(c){case exports.ScrollMode.Horizontal:return(t={height:"100%",width:"".concat(e.size.width,"px")})[a]=0,t.position="absolute",t.top=0,t.transform="translateX(".concat(e.start.left*i,"px)"),t;case exports.ScrollMode.Wrapped:return(r={height:"".concat(e.size.height,"px"),width:"".concat(e.size.width,"px")})[a]=0,r.position="absolute",r.top=0,r.transform="translate(".concat(e.start.left*i,"px, ").concat(e.start.top,"px)"),r;case exports.ScrollMode.Vertical:default:return(o={height:"".concat(e.size.height,"px"),width:"100%"})[a]=0,o.position="absolute",o.top=0,o.transform="translateY(".concat(e.start.top,"px)"),o}}),[n,c]);return{startIndex:k,startRange:P,endIndex:S,endRange:T,maxVisbilityIndex:R,getContainerStyles:O,getItemStyles:M,scrollToItem:L,virtualItems:C}};!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(q||(q={}));var $,ee=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),te=function(e,t,n,r){var o=parseInt(e,10);return o>=t&&o<=n?o:r},ne=function(e){var t=e.annotation,n=u.useContext(m).direction===exports.TextDirection.RightToLeft,r=u.useRef(),o="";if(t.modificationDate){var a=function(e){var t=ee.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=te(t[2],1,12,1)-1,o=te(t[3],1,31,1),a=te(t[4],0,23,0),i=te(t[5],0,59,0),c=te(t[6],0,59,0),s=t[7]||"Z",l=te(t[8],0,23,0),u=te(t[9],0,59,0);switch(s){case"-":a+=l,i+=u;break;case"+":a-=l,i-=u}return new Date(Date.UTC(n,r,o,a,i,c))}(t.modificationDate);o=a?"".concat(a.toLocaleDateString(),", ").concat(a.toLocaleTimeString()):""}return u.useLayoutEffect((function(){if(r.current){var e=document.querySelector('[data-annotation-id="'.concat(t.id,'"]'));if(e){var n=e;return n.style.zIndex+=1,function(){n.style.zIndex="".concat(parseInt(n.style.zIndex,10)-1)}}}}),[]),u.createElement("div",{ref:r,className:x({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":n}),style:{top:t.annotationType===exports.AnnotationType.Popup?"":"100%"}},t.title&&u.createElement(u.Fragment,null,u.createElement("div",{className:x({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!n,"rpv-core__annotation-popup-title--rtl":n})},t.title),u.createElement("div",{className:"rpv-core__annotation-popup-date"},o)),t.contents&&u.createElement("div",{className:"rpv-core__annotation-popup-content"},t.contents.split("\n").map((function(e,t){return u.createElement(u.Fragment,{key:t},e,u.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}($||($={}));var re,oe=function(e){var t,n=e.annotation,r=e.children,o=e.ignoreBorder,a=e.hasPopup,i=e.isRenderable,c=e.page,s=e.viewport,l=n.rect,p=function(){var e=L(!1),t=e.opened,n=e.toggle,r=u.useState($.Hover),o=r[0],a=r[1];return{opened:t,closeOnHover:function(){o===$.Hover&&n(exports.ToggleStatus.Close)},openOnHover:function(){o===$.Hover&&n(exports.ToggleStatus.Open)},toggleOnClick:function(){switch(o){case $.Click:t&&a($.Hover),n(exports.ToggleStatus.Toggle);break;case $.Hover:a($.Click),n(exports.ToggleStatus.Open)}}}}(),d=p.closeOnHover,f=p.opened,v=p.openOnHover,g=p.toggleOnClick,h=(t=[l[0],c.view[3]+c.view[1]-l[1],l[2],c.view[3]+c.view[1]-l[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),m=l[2]-l[0],x=l[3]-l[1],w={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case q.Dashed:w.borderStyle="dashed";break;case q.Solid:w.borderStyle="solid";break;case q.Underline:w=Object.assign({borderBottomStyle:"solid"},w);case q.Beveled:case q.Inset:}var _=n.borderStyle.width;w.borderWidth="".concat(_,"px"),n.borderStyle.style!==q.Underline&&(m-=2*_,x-=2*_);var E=n.borderStyle,y=E.horizontalCornerRadius,R=E.verticalCornerRadius;(y>0||R>0)&&(w.borderRadius="".concat(y,"px / ").concat(R,"px")),n.color?w.borderColor="rgb(".concat(0|n.color[0],", ").concat(0|n.color[1],", ").concat(0|n.color[2],")"):w.borderWidth="0"}return u.createElement(u.Fragment,null,i&&r({popup:{opened:f,closeOnHover:d,openOnHover:v,toggleOnClick:g},slot:{attrs:{style:Object.assign({height:"".concat(x,"px"),left:"".concat(h[0],"px"),top:"".concat(h[1],"px"),transform:"matrix(".concat(s.transform.join(","),")"),transformOrigin:"-".concat(h[0],"px -").concat(h[1],"px"),width:"".concat(m,"px")},w)},children:u.createElement(u.Fragment,null,a&&f&&u.createElement(ne,{annotation:n}))}}))},ae=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents);return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents),i=t.rect,c=i[2]-i[0],s=i[3]-i[1],l=t.borderStyle.width;return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),u.createElement("svg",{height:"".concat(s,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(c," ").concat(s),width:"".concat(c,"px")},u.createElement("circle",{cy:s/2,fill:"none",rx:c/2-l/2,ry:s/2-l/2,stroke:"transparent",strokeWidth:l||1})),e.slot.children)}))},ce=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!(!1!==t.hasPopup||!t.title&&!t.contents),a=function(){var e,n,r,o,a=t.file;a&&(e=a.filename,n=a.content,r="string"==typeof n?"":URL.createObjectURL(new Blob([n],{type:""})),(o=document.createElement("a")).style.display="none",o.href=r||e,o.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(o),o.click(),document.body.removeChild(o),r&&URL.revokeObjectURL(r))};return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:!0,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:a,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents);return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},le=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!(!t.title&&!t.contents),a=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return w((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'.concat(t.parentId,'"]')),n=document.querySelector('[data-annotation-id="'.concat(t.id,'"]'));if(e&&n){var r=parseFloat(e.style.left),o=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left="".concat(r,"px"),n.style.top="".concat(o,"px"),n.style.transformOrigin="-".concat(r,"px -").concat(o,"px")}}}),[]),u.createElement(oe,{annotation:t,hasPopup:a,ignoreBorder:!1,isRenderable:o,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":t.id}),u.createElement(ne,{annotation:t}))}))},ue=function(e){var t=e.annotation,n=e.childAnnotation,r=e.page,o=e.viewport,a=!1===t.hasPopup,i=!!(t.hasPopup||t.title||t.contents);if(t.quadPoints&&t.quadPoints.length>0){var c=t.quadPoints.map((function(e){return Object.assign({},t,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return u.createElement(u.Fragment,null,c.map((function(e,t){return u.createElement(ue,{key:t,annotation:e,childAnnotation:n,page:r,viewport:o})})))}return u.createElement(oe,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:i,page:r,viewport:o},(function(e){return u.createElement(u.Fragment,null,u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),n&&n.annotationType===exports.AnnotationType.Popup&&e.popup.opened&&u.createElement(le,{annotation:n,page:r,viewport:o}))}))},pe=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents),i=t.rect,c=i[2]-i[0],s=i[3]-i[1],l=t.borderStyle.width;return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&u.createElement("svg",{height:"".concat(s,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(c," ").concat(s),width:"".concat(c,"px")},t.inkLists.map((function(e,t){return u.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:l||1,points:e.map((function(e){return"".concat(e.x-i[0],",").concat(i[3]-e.y)})).join(" ")})}))),e.slot.children)}))},de=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents),i=t.rect,c=i[2]-i[0],s=i[3]-i[1],l=t.borderStyle.width;return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),u.createElement("svg",{height:"".concat(s,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(c," ").concat(s),width:"".concat(c,"px")},u.createElement("line",{stroke:"transparent",strokeWidth:l||1,x1:i[2]-t.lineCoordinates[0],x2:i[2]-t.lineCoordinates[2],y1:i[3]-t.lineCoordinates[1],y2:i[3]-t.lineCoordinates[3]})),e.slot.children)}))},fe=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],leftOffset:t[2]||0,pageIndex:e,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:exports.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],leftOffset:0,pageIndex:e,scaleTo:exports.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:1}}},ve=new Map,ge=new Map,he=function(e,t){return"".concat(e.loadingTask.docId,"___").concat(t.num,"R").concat(0===t.gen?"":t.gen)},me=function(e,t,n){ve.set(he(e,t),n)},xe=function(e,t){if(!e)return Promise.reject("The document is not loaded yet");var n="".concat(e.loadingTask.docId,"___").concat(t),r=ge.get(n);return r?Promise.resolve(r):new Promise((function(r,o){e.getPage(t+1).then((function(o){ge.set(n,o),o.ref&&me(e,o.ref,t),r(o)}))}))},we=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(r){if("object"==typeof r[0]&&null!==r[0]){var o=r[0],a=function(e,t){return ve.get(he(e,t))||null}(e,o);null===a?e.getPageIndex(o).then((function(r){me(e,o,r),we(e,t).then((function(e){return n(e)}))})):n(fe(a,r))}else{var i=fe(r[0],r);n(i)}}))}))},_e=function(e){var t=e.annotation,n=e.doc,r=e.page,o=e.viewport,a=e.onExecuteNamedAction,i=e.onJumpToDest,c=!!(t.url||t.dest||t.action||t.unsafeUrl),s=t.url||t.unsafeUrl,l=s?{"data-target":"external",href:s,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:s}:{href:"","data-annotation-link-dest":t.dest,onClick:function(e){e.preventDefault(),t.action?a(t.action):we(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.leftOffset,o=e.scaleTo;i(t,n,r,o)}))}};return u.createElement(oe,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:c,page:r,viewport:o},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":t.id,"data-testid":"core__annotation--link-".concat(t.id)}),u.createElement("a",g({},l)))}))},Ee=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents),i=t.rect,c=i[2]-i[0],s=i[3]-i[1],l=t.borderStyle.width;return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&u.createElement("svg",{height:"".concat(s,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(c," ").concat(s),width:"".concat(c,"px")},u.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:l||1,points:t.vertices.map((function(e){return"".concat(e.x-i[0],",").concat(i[3]-e.y)})).join(" ")})),e.slot.children)}))},ye=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents),i=t.rect,c=i[2]-i[0],s=i[3]-i[1],l=t.borderStyle.width;return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&u.createElement("svg",{height:"".concat(s,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(c," ").concat(s),width:"".concat(c,"px")},u.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:l||1,points:t.vertices.map((function(e){return"".concat(e.x-i[0],",").concat(i[3]-e.y)})).join(" ")})),e.slot.children)}))},Re=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents),i=t.rect,c=i[2]-i[0],s=i[3]-i[1],l=t.borderStyle.width;return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),u.createElement("svg",{height:"".concat(s,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(c," ").concat(s),width:"".concat(c,"px")},u.createElement("rect",{height:s-l,fill:"none",stroke:"transparent",strokeWidth:l||1,x:l/2,y:l/2,width:c-l})),e.slot.children)}))},be=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents);return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ke=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents);return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Se=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents);return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Pe=function(){return u.createElement(E,{size:16},u.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),u.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),u.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),u.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Te=function(){return u.createElement(E,{size:16},u.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),u.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),u.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),u.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),u.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),u.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),u.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),u.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),u.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),u.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Ce=function(){return u.createElement(E,{size:16},u.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),u.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Le=function(){return u.createElement(E,{size:16},u.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),u.createElement("path",{d:"M6 4.5L6 0.5"}),u.createElement("path",{d:"M18 4.5L18 0.5"}),u.createElement("path",{d:"M10 4.5L10 0.5"}),u.createElement("path",{d:"M14 4.5L14 0.5"}))},Oe=function(){return u.createElement(E,{size:16},u.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),u.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),u.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Me=function(){return u.createElement(E,{size:16},u.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Ie=function(e){var t=e.annotation,n=e.childAnnotation,r=e.page,o=e.viewport,a=!1===t.hasPopup,i=!!(t.hasPopup||t.title||t.contents),c=t.name?t.name.toLowerCase():"";return u.createElement(oe,{annotation:t,hasPopup:a,ignoreBorder:!1,isRenderable:i,page:r,viewport:o},(function(e){return u.createElement(u.Fragment,null,u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),c&&u.createElement("div",{className:"rpv-core__annotation-text-icon"},"check"===c&&u.createElement(y,null),"comment"===c&&u.createElement(Pe,null),"help"===c&&u.createElement(Te,null),"insert"===c&&u.createElement(Me,null),"key"===c&&u.createElement(Ce,null),"note"===c&&u.createElement(Le,null),("newparagraph"===c||"paragraph"===c)&&u.createElement(Oe,null)),e.slot.children),n&&n.annotationType===exports.AnnotationType.Popup&&e.popup.opened&&u.createElement(le,{annotation:n,page:r,viewport:o}))}))},He=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=!!(t.hasPopup||t.title||t.contents);return u.createElement(oe,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:a,page:n,viewport:r},(function(e){return u.createElement("div",g({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Ae=function(e){var t=e.annotations,n=e.containerRef,r=e.doc,o=e.page,a=e.pageIndex,i=e.plugins,c=e.rotation,s=e.scale,l=e.onExecuteNamedAction,p=e.onJumpToDest,d=o.getViewport({rotation:c,scale:s}).clone({dontFlip:!0}),f=t.filter((function(e){return!e.parentId}));return u.useEffect((function(){var e=n.current;e&&i.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:f,container:e,pageIndex:a,rotation:c,scale:s})}))}),[]),u.createElement(u.Fragment,null,f.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case exports.AnnotationType.Caret:return u.createElement(ae,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.Circle:return u.createElement(ie,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.FileAttachment:return u.createElement(ce,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.FreeText:return u.createElement(se,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.Highlight:return u.createElement(ue,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:d});case exports.AnnotationType.Ink:return u.createElement(pe,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.Line:return u.createElement(de,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.Link:return u.createElement(_e,{key:e.id,annotation:e,doc:r,page:o,viewport:d,onExecuteNamedAction:l,onJumpToDest:p});case exports.AnnotationType.Polygon:return u.createElement(Ee,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.Polyline:return u.createElement(ye,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.Popup:return u.createElement(le,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.Square:return u.createElement(Re,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.Squiggly:return u.createElement(be,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.Stamp:return u.createElement(ke,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.StrikeOut:return u.createElement(Se,{key:e.id,annotation:e,page:o,viewport:d});case exports.AnnotationType.Text:return u.createElement(Ie,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:d});case exports.AnnotationType.Underline:return u.createElement(He,{key:e.id,annotation:e,page:o,viewport:d});default:return u.createElement(u.Fragment,{key:e.id})}})))},De=function(e){var t=e.page,n=e.renderAnnotations,r=Z(),o=u.useState({loading:!0,annotations:[]}),a=o[0],i=o[1];return u.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){r.current&&i({loading:!1,annotations:e})}))}),[]),a.loading?u.createElement(u.Fragment,null):n(a.annotations)},Ne=function(e){var t=e.doc,n=e.page,r=e.pageIndex,o=e.plugins,a=e.rotation,i=e.scale,c=e.onExecuteNamedAction,s=e.onJumpToDest,l=u.useRef();return u.createElement("div",{ref:l,className:"rpv-core__annotation-layer"},u.createElement(De,{page:n,renderAnnotations:function(e){return u.createElement(Ae,{annotations:e,containerRef:l,doc:t,page:n,pageIndex:r,plugins:o,rotation:a,scale:i,onExecuteNamedAction:c,onJumpToDest:s})}}))},Be=function(e,t){var n=e%t;return 0===n?e:Math.floor(e-n)},ze=function(e){var t=e.height,n=e.page,r=e.pageIndex,o=e.plugins,a=e.rotation,i=e.scale,c=e.width,s=e.onRenderCanvasCompleted,l=u.useRef(),p=u.useRef();return w((function(){var e=p.current;e&&e.cancel();var t=l.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:t,pageIndex:r,rotation:a,scale:i,status:exports.LayerRenderStatus.PreRender})}));var c=n.getViewport({rotation:a,scale:i}),u=window.devicePixelRatio||1,d=Math.sqrt(16777216/(c.width*c.height)),f=u>d;f?t.style.transform="scale(1, 1)":t.style.removeProperty("transform");var v=Math.min(d,u),g=function(e,t){var n,r;if(Math.floor(e)===e)return[e,1];var o=1/e;if(o>t)return[1,t];if(Math.floor(o)===o)return[1,o];for(var a=e>1?o:e,i=0,c=1,s=1,l=1;;){var u=i+s,p=c+l;if(p>t)break;a<=u/p?(s=(n=[u,p])[0],l=n[1]):(i=(r=[u,p])[0],c=r[1])}return a<(i/c+s/l)/2?a===e?[i,c]:[c,i]:a===e?[s,l]:[l,s]}(v,8),h=g[0],m=g[1];t.width=Be(c.width*v,h),t.height=Be(c.height*v,h),t.style.width="".concat(Be(c.width,m),"px"),t.style.height="".concat(Be(c.height,m),"px"),t.hidden=!0;var x=t.getContext("2d",{alpha:!1}),w=f||1!==u?[v,0,0,v,0,0]:null;return p.current=n.render({canvasContext:x,transform:w,viewport:c}),p.current.promise.then((function(){t.hidden=!1,o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:t,pageIndex:r,rotation:a,scale:i,status:exports.LayerRenderStatus.DidRender})})),s()}),(function(){t.hidden=!1,s()})),function(){var e;null===(e=p.current)||void 0===e||e.cancel(),t&&(t.width=0,t.height=0)}}),[]),u.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(t,"px"),width:"".concat(c,"px")}},u.createElement("canvas",{ref:l}))},Fe=function(e){var t=e.height,n=e.page,r=e.rotation,o=e.scale,a=e.width,i=u.useRef();return w((function(){var e=i.current,c=n.getViewport({rotation:r,scale:o});n.getOperatorList().then((function(r){!function(){var e=i.current;e&&(e.innerHTML="")}(),new p.SVGGraphics(n.commonObjs,n.objs).getSVG(r,c).then((function(n){n.style.height="".concat(t,"px"),n.style.width="".concat(a,"px"),e.appendChild(n)}))}))}),[]),u.createElement("div",{className:"rpv-core__svg-layer",ref:i})},We=function(e){var t=e.page,n=e.pageIndex,r=e.plugins,o=e.rotation,a=e.scale,i=e.onRenderTextCompleted,c=u.useRef(),s=u.useRef();return w((function(){var e=s.current;e&&e.cancel();var l=c.current;if(l){l.removeAttribute("data-testid");var u=t.getViewport({rotation:o,scale:a});return r.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:l,pageIndex:n,scale:a,status:exports.LayerRenderStatus.PreRender})})),t.getTextContent().then((function(e){!function(){var e=c.current;e&&([].slice.call(e.querySelectorAll("span.rpv-core__text-layer-text")).forEach((function(t){return e.removeChild(t)})),[].slice.call(e.querySelectorAll('br[role="presentation"]')).forEach((function(t){return e.removeChild(t)})))}(),s.current=p.renderTextLayer({container:l,textContent:e,viewport:u,enhanceTextSelection:!0}),s.current.promise.then((function(){l.setAttribute("data-testid","core__text-layer-".concat(n)),[].slice.call(l.children).forEach((function(e){return e.classList.add("rpv-core__text-layer-text")})),r.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:l,pageIndex:n,scale:a,status:exports.LayerRenderStatus.DidRender})})),i()}),(function(){l.removeAttribute("data-testid"),i()}))})),function(){var e;null===(e=s.current)||void 0===e||e.cancel()}}}),[]),u.createElement("div",{className:"rpv-core__text-layer",ref:c})},Ve=function(e){var t=e.doc,n=e.height,r=e.measureRef,o=e.pageIndex,a=e.pageRotation,i=e.plugins,c=e.renderPage,s=e.rotation,l=e.scale,p=e.shouldRender,d=e.width,f=e.onExecuteNamedAction,v=e.onJumpToDest,g=e.onRenderCompleted,h=e.onRotatePage,m=Z(),x=u.useState({page:null,pageHeight:n,pageWidth:d,viewportRotation:0}),w=x[0],_=x[1],E=u.useState(!1),y=E[0],R=E[1],k=u.useState(!1),S=k[0],P=k[1],T=w.page,C=w.pageHeight,L=w.pageWidth,O=Math.abs(s+a)%180==0,M=L*l,I=C*l,H=O?M:I,A=O?I:M,D=(w.viewportRotation+s+a)%360,N=c||function(e){return u.createElement(u.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)};return u.useEffect((function(){_({page:null,pageHeight:n,pageWidth:d,viewportRotation:0}),R(!1),P(!1)}),[a,s,l]),u.useEffect((function(){p&&m.current&&!T&&xe(t,o).then((function(e){var t=e.getViewport({scale:1});m.current&&_({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})}))}),[p,T]),u.useEffect((function(){y&&S&&g(o)}),[y,S]),u.createElement("div",{className:"rpv-core__page-layer","data-testid":"core__page-layer-".concat(o),ref:r,style:{height:"".concat(A,"px"),width:"".concat(H,"px")}},T?u.createElement(u.Fragment,null,N({annotationLayer:{attrs:{},children:u.createElement(Ne,{doc:t,page:T,pageIndex:o,plugins:i,rotation:D,scale:l,onExecuteNamedAction:f,onJumpToDest:v})},canvasLayer:{attrs:{},children:u.createElement(ze,{height:A,page:T,pageIndex:o,plugins:i,rotation:D,scale:l,width:H,onRenderCanvasCompleted:function(){m.current&&R(!0)}})},canvasLayerRendered:y,doc:t,height:A,pageIndex:o,rotation:D,scale:l,svgLayer:{attrs:{},children:u.createElement(Fe,{height:A,page:T,rotation:D,scale:l,width:H})},textLayer:{attrs:{},children:u.createElement(We,{page:T,pageIndex:o,plugins:i,rotation:D,scale:l,onRenderTextCompleted:function(){m.current&&P(!0)}})},textLayerRendered:S,width:H,markRendered:g,onRotatePage:function(e){return h(o,e)}}),i.map((function(e,n){return e.renderPageLayer?u.createElement(u.Fragment,{key:n},e.renderPageLayer({doc:t,height:A,pageIndex:o,rotation:D,scale:l,width:H})):u.createElement(u.Fragment,{key:n})}))):u.createElement(b,{testId:"core__page-layer-loading-".concat(o)}))},je=function(e,t,n,r){switch(r){case exports.SpecialZoomLevel.ActualSize:return 1;case exports.SpecialZoomLevel.PageFit:return Math.min((e.clientWidth-17)/n,(e.clientHeight-16)/t);case exports.SpecialZoomLevel.PageWidth:return(e.clientWidth-17)/n}},qe=function(e){var t,n,r,o,a=e.currentFile,i=e.defaultScale,c=e.doc,s=e.initialPage,l=e.pageSize,p=e.plugins,d=e.renderPage,f=e.scrollMode,v=e.viewerState,h=e.onDocumentLoad,_=e.onOpenFile,E=e.onPageChange,y=e.onRotate,R=e.onRotatePage,b=e.onZoom,k=c.numPages,S=c.loadingTask.docId,P=u.useContext(V).l10n,T=u.useContext(m),C=T.direction===exports.TextDirection.RightToLeft,L=u.useRef(),O=u.useRef(),M=u.useState(0),I=M[0],H=M[1],A=u.useState(0),D=A[0],N=A[1],B=u.useState(!1),z=B[0],W=B[1],j=u.useState(new Map),q=j[0],U=j[1],Z=u.useState(f),G=Z[0],Y=Z[1],J=u.useRef(v),Q=u.useState(l.scale),X=Q[0],$=Q[1],ee=u.useRef("string"==typeof i?i:null),te=u.useState(-1),ne=te[0],re=te[1],oe=u.useMemo((function(){return F({doc:c,queueName:"core-pages",priority:0})}),[S]),ae=u.useCallback((function(){var e=[l.pageHeight,l.pageWidth],t=Math.abs(D)%180==0?{height:e[0],width:e[1]}:{height:e[1],width:e[0]};return{height:t.height*X,width:t.width*X}}),[D,X]),ie=u.useCallback((function(e){return Math.max(e-3,0)}),[]),ce=u.useCallback((function(e){return Math.min(e+3,k-1)}),[k]),se=u.useCallback((function(e){return{height:e.height+16,width:e.width+16}}),[]),le=K({estimateSize:ae,isRtl:C,numberOfItems:k,parentRef:O,scrollMode:G,setStartRange:ie,setEndRange:ce,transformSize:se}),ue=(t=function(e){ee.current&&(re(-1),ke(ee.current))},n=200,r=u.useRef(),o=function(){r.current&&clearTimeout(r.current)},u.useEffect((function(){return function(){return o()}}),[]),u.useCallback((function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];o(),r.current=setTimeout((function(){t.apply(void 0,e)}),n)}),[t,n]));!function(e){var t=e.targetRef,n=e.onResize;w((function(){var e=new ResizeObserver((function(e){e.forEach((function(e){n(e.target)}))})),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[])}({targetRef:O,onResize:ue});var pe=l.pageWidth,de=l.pageHeight,fe=function(e){var t=e;p.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),J.current=t},he=function(){return O.current},me=function(){return J.current},we=u.useCallback((function(e,t,n,r){var o=O.current,a=J.current;o&&a&&xe(c,e).then((function(i){var c=i.getViewport({scale:1}),s=0,l=("function"==typeof t?t(c.width,c.height):t)||0,u=("function"==typeof n?n(c.width,c.height):n)||0,p=a.scale;switch(r){case exports.SpecialZoomLevel.PageFit:s=0,u=0,ke(exports.SpecialZoomLevel.PageFit);break;case exports.SpecialZoomLevel.PageWidth:p=je(o,de,pe,exports.SpecialZoomLevel.PageWidth),s=(c.height-l)*p,u*=p,ke(p);break;default:var d=c.convertToViewportPoint(u,l);u=Math.max(d[0]*a.scale,0),s=Math.max(d[1]*a.scale,0)}switch(a.scrollMode){case exports.ScrollMode.Horizontal:le.scrollToItem(e,{left:u,top:0});break;case exports.ScrollMode.Vertical:default:le.scrollToItem(e,{left:0,top:s})}}))}),[]),_e=u.useCallback((function(e){0<=e&&e<k&&le.scrollToItem(e,{left:0,top:0})}),[]),Ee=u.useCallback((function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){_(e.name,t)}))}),[_]),ye=u.useCallback((function(e){var t=e===exports.RotateDirection.Backward?-90:90,n=J.current.rotation,r=360===n||-360===n?t:n+t;oe.resetQueue(),N(r),fe({file:v.file,pageIndex:I,pageHeight:de,pageWidth:pe,pagesRotation:q,rotation:r,scale:X,scrollMode:G}),y({direction:e,doc:c,rotation:r})}),[]),Re=u.useCallback((function(e,t){var n=t===exports.RotateDirection.Backward?-90:90,r=J.current.pagesRotation,o=(r.has(e)?r.get(e):0)+n,a=r.set(e,o);U(a),W((function(e){return!e})),fe({file:v.file,pageIndex:I,pageHeight:de,pageWidth:pe,pagesRotation:a,rotatedPage:e,rotation:D,scale:X,scrollMode:G}),R({direction:t,doc:c,pageIndex:e,rotation:o}),oe.markRendering(e),re(e)}),[]),be=u.useCallback((function(e){fe({file:v.file,pageIndex:J.current.pageIndex,pageHeight:de,pageWidth:pe,pagesRotation:q,rotation:D,scale:X,scrollMode:e}),Y(e)}),[]),ke=u.useCallback((function(e){oe.resetQueue();var t=O.current,n=t?"string"==typeof e?je(t,de,pe,e):e:1;ee.current="string"==typeof e?e:null,t.scrollTop=t.scrollTop*n/J.current.scale,t.scrollLeft=t.scrollLeft*n/J.current.scale,$(n),b({doc:c,scale:n}),fe({file:v.file,pageIndex:I,pageHeight:de,pageWidth:pe,pagesRotation:q,rotation:D,scale:n,scrollMode:G})}),[]);u.useEffect((function(){var e={getPagesContainer:he,getViewerState:me,jumpToDestination:we,jumpToPage:_e,openFile:Ee,rotate:ye,rotatePage:Re,setViewerState:fe,switchScrollMode:be,zoom:ke};return p.forEach((function(t){t.install&&t.install(e)})),function(){p.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[S]),u.useEffect((function(){h({doc:c,file:a}),p.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:c,file:a})})),s&&_e(s)}),[S]),u.useEffect((function(){var e=J.current.pageIndex;e>-1&&le.scrollToItem(e,{left:0,top:0})}),[G]),u.useEffect((function(){var e=le.startRange,t=le.endRange,n=le.maxVisbilityIndex,r=le.virtualItems,o=n;H(o),J.current.pageIndex!==o&&E({currentPage:o,doc:c}),fe({file:v.file,pageIndex:o,pageHeight:de,pageWidth:pe,pagesRotation:q,rotation:D,scale:X,scrollMode:G}),oe.setRange(e,t);for(var a=function(e){var t=r.find((function(t){return t.index===e}));t&&oe.setVisibility(e,t.visibility)},i=e;i<=t;i++)a(i);Pe()}),[le.startRange,le.endRange,le.maxVisbilityIndex,z,D,X]);var Se=u.useCallback((function(e){oe.markRendered(e),Pe()}),[]),Pe=function(){var e=oe.getHighestPriorityPage();e>-1&&(oe.markRendering(e),re(e))},Te=function(e){var t=I-1,n=I+1;switch(e){case"FirstPage":_e(0);break;case"LastPage":_e(k-1);break;case"NextPage":n<k&&_e(n);break;case"PrevPage":t>=0&&_e(t)}},Ce=u.useCallback((function(){var e=P&&P.core?P.core.pageLabel:"Page {{pageIndex}}",t={attrs:{"data-testid":"core__inner-container",ref:L,style:{height:"100%"}},children:u.createElement(u.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:x({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":G===exports.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":C,"rpv-core__inner-pages--vertical":G===exports.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":G===exports.ScrollMode.Wrapped}),ref:O,style:{height:"100%",overflow:"auto",position:"relative"}},children:u.createElement("div",{style:le.getContainerStyles()},le.virtualItems.map((function(t){return u.createElement("div",{"aria-label":e.replace("{{pageIndex}}","".concat(t.index+1)),className:"rpv-core__inner-page",key:t.index,role:"region",style:le.getItemStyles(t)},u.createElement(Ve,{doc:c,height:de,measureRef:t.measureRef,pageIndex:t.index,pageRotation:q.has(t.index)?q.get(t.index):0,plugins:p,renderPage:d,rotation:D,scale:X,shouldRender:ne===t.index,width:pe,onExecuteNamedAction:Te,onJumpToDest:we,onRenderCompleted:Se,onRotatePage:Re}))})))}};return p.forEach((function(e){e.renderViewer&&(t=e.renderViewer({containerRef:L,doc:c,pageHeight:de,pageWidth:pe,pagesRotation:q,rotation:D,slot:t,themeContext:T,jumpToPage:_e,openFile:Ee,rotate:ye,rotatePage:Re,switchScrollMode:be,zoom:ke}))})),t}),[p,le]),Le=u.useCallback((function(e){return u.createElement("div",g({},e.attrs,{style:e.attrs&&e.attrs.style?e.attrs.style:{}}),e.children,e.subSlot&&Le(e.subSlot))}),[]);return u.useEffect((function(){return function(){oe.cleanup(),ve.clear(),ge.clear()}}),[]),Le(Ce())},Ue=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Ze=function(e){var t=e.defaultScale,n=e.doc,r=e.render,o=e.scrollMode,a=u.useRef(),i=u.useState({pageHeight:0,pageWidth:0,scale:1}),c=i[0],s=i[1];return u.useLayoutEffect((function(){xe(n,0).then((function(e){var n=e.getViewport({scale:1}),r=n.width,i=n.height,c=a.current;if(c){var l=c.parentElement,u=(l.clientWidth-45)/r,p=(l.clientHeight-45)/i,d=u;switch(o){case exports.ScrollMode.Horizontal:d=Math.min(u,p);break;case exports.ScrollMode.Vertical:default:d=u}var f,v,g=t?"string"==typeof t?je(l,i,r,t):t:(f=d,-1===(v=Ue.findIndex((function(e){return e>=f})))||0===v?f:Ue[v-1]);s({pageHeight:i,pageWidth:r,scale:g})}}))}),[n]),0===c.pageWidth?u.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:a},u.createElement(b,null)):r(c)},Ge=function(){};!function(e){e[e.REQUIRE_PASSWORD=0]="REQUIRE_PASSWORD",e[e.WRONG_PASSWORD=1]="WRONG_PASSWORD"}(re||(re={}));var Ye=function(e){function t(t,n){var r=e.call(this)||this;return r.verifyPassword=t,r.submitPassword=n,r}return f(t,e),t}(Ge),Je=function(e){var t=e.submitPassword,n=e.verifyPassword,r=e.onDocumentAskPassword,o=u.useContext(V).l10n,a=u.useState(""),i=a[0],c=a[1],s=u.useContext(m).direction===exports.TextDirection.RightToLeft,l=function(){return n(i)};return u.useEffect((function(){r&&r({verifyPassword:n})}),[]),u.createElement("div",{className:"rpv-core__asking-password-wrapper"},u.createElement("div",{className:x({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":s})},u.createElement("div",{className:"rpv-core__asking-password-message"},t===re.REQUIRE_PASSWORD&&o.core.askingPassword.requirePasswordToOpen,t===re.WRONG_PASSWORD&&o.core.wrongPassword.tryAgain),u.createElement("div",{className:"rpv-core__asking-password-body"},u.createElement("div",{className:x({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!s,"rpv-core__asking-password-input--rtl":s})},u.createElement(k,{testId:"core__asking-password-input",type:"password",value:i,onChange:c,onKeyDown:function(e){"Enter"===e.key&&l()}})),u.createElement(R,{onClick:l},o.core.askingPassword.submit))))},Qe=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return f(t,e),t}(Ge),Xe=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return f(t,e),t}(Ge),Ke=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return f(t,e),t}(Ge),$e=function(e){var t=e.characterMap,n=e.file,r=e.httpHeaders,o=e.render,a=e.renderError,i=e.renderLoader,c=e.transformGetDocumentParams,s=e.withCredentials,l=e.onDocumentAskPassword,d=u.useContext(m).direction===exports.TextDirection.RightToLeft,f=u.useState(new Ke(0)),v=f[0],g=f[1],h=u.useState(0),w=h[0],_=h[1],E=u.useState(null),y=E[0],R=E[1],k=Z();return u.useEffect((function(){g(new Ke(0));var e=new p.PDFWorker({name:"PDFWorker_".concat(Date.now())}),o=Object.assign({httpHeaders:r,withCredentials:s,worker:e},"string"==typeof n?{url:n}:{data:n},t?{cMapUrl:t.url,cMapPacked:t.isCompressed}:{}),a=c?c(o):o,i=p.getDocument(a);return i.onPassword=function(e,t){switch(t){case p.PasswordResponses.NEED_PASSWORD:k.current&&g(new Ye(e,re.REQUIRE_PASSWORD));break;case p.PasswordResponses.INCORRECT_PASSWORD:k.current&&g(new Ye(e,re.WRONG_PASSWORD))}},i.onProgress=function(e){e.total>0?k.current&&_(Math.min(100,100*e.loaded/e.total)):k.current&&_(100)},i.promise.then((function(e){return k.current&&R(e)}),(function(t){return k.current&&!e.destroyed&&g(new Xe({message:t.message||"Cannot load document",name:t.name}))})),function(){i.destroy(),e.destroy()}}),[n]),u.useEffect((function(){100===w&&y?k.current&&g(new Qe(y)):k.current&&g(new Ke(w))}),[w,y]),v instanceof Ye?u.createElement(Je,{submitPassword:v.submitPassword,verifyPassword:v.verifyPassword,onDocumentAskPassword:l}):v instanceof Qe?o(v.doc):v instanceof Xe?a?a(v.error):u.createElement("div",{className:x({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":d})},u.createElement("div",{className:"rpv-core__doc-error-text"},v.error.message)):u.createElement("div",{"data-testid":"core__doc-loading",className:x({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":d})},i?i(v.percentages):u.createElement(b,null))},et=function(e,t){var n=u.useMemo((function(){return"auto"===e?"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e}),[]),r=u.useState(n),o=r[0],a=r[1],i=j(o);return u.useEffect((function(){if("auto"===e){var t=window.matchMedia("(prefers-color-scheme: dark)"),n=function(e){a(e.matches?"dark":"light")};return t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}}}),[]),u.useEffect((function(){o!==i&&t&&t(o)}),[o]),u.useEffect((function(){e!==o&&a(e)}),[e]),{currentTheme:o,setCurrentTheme:a}};exports.Button=function(e){var t=e.children,n=e.testId,r=e.onClick,o=u.useContext(m).direction===exports.TextDirection.RightToLeft,a=n?{"data-testid":n}:{};return u.createElement("button",g({className:x({"rpv-core__button":!0,"rpv-core__button--rtl":o}),type:"button",onClick:r},a),t)},exports.Icon=E,exports.LazyRender=function(e){var t=e.attrs,n=e.children,r=e.testId,o=u.useState(!1),a=o[0],i=o[1],c=r?g(g({},t),{"data-testid":r}):t,s=_({once:!0,onVisibilityChanged:function(e){e.isVisible&&i(!0)}});return u.createElement("div",g({ref:s},c),a&&n)},exports.LocalizationContext=V,exports.Menu=function(e){var t=e.children,n=u.useRef(),r=u.useRef([]),o=u.useContext(m).direction===exports.TextDirection.RightToLeft,a=function(e){if(n.current)switch(e.key){case"Tab":e.preventDefault();break;case"ArrowDown":e.preventDefault(),i((function(e,t){return t+1}));break;case"ArrowUp":e.preventDefault(),i((function(e,t){return t-1}));break;case"End":e.preventDefault(),i((function(e,t){return e.length-1}));break;case"Home":e.preventDefault(),i((function(e,t){return 0}))}},i=function(e){if(n.current){var t=r.current,o=t.findIndex((function(e){return"0"===e.getAttribute("tabindex")})),a=Math.min(t.length-1,Math.max(0,e(t,o)));o>=0&&o<=t.length-1&&t[o].setAttribute("tabindex","-1"),t[a].setAttribute("tabindex","0"),t[a].focus()}};return w((function(){var e=n.current;if(e){var t=function(e){var t=[];return e.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach((function(n){if(n instanceof HTMLElement){var r=n.parentElement;(r===e||"none"!==window.getComputedStyle(r).display)&&t.push(n)}})),t}(e);r.current=t}}),[]),w((function(){return document.addEventListener("keydown",a),function(){document.removeEventListener("keydown",a)}}),[]),u.createElement("div",{ref:n,"aria-orientation":"vertical",className:x({"rpv-core__menu":!0,"rpv-core__menu--rtl":o}),role:"menu",tabIndex:0},t)},exports.MenuDivider=function(){return u.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},exports.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,r=e.children,o=e.icon,a=void 0===o?null:o,i=e.isDisabled,c=void 0!==i&&i,s=e.testId,l=e.onClick,p=u.useContext(m).direction===exports.TextDirection.RightToLeft,d=s?{"data-testid":s}:{};return u.createElement("button",g({className:x({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":c,"rpv-core__menu-item--ltr":!p,"rpv-core__menu-item--rtl":p}),role:"menuitem",tabIndex:-1,type:"button",onClick:l},d),u.createElement("div",{className:x({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!p,"rpv-core__menu-item-icon--rtl":p})},a),u.createElement("div",{className:x({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!p,"rpv-core__menu-item-label--rtl":p})},r),u.createElement("div",{className:x({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!p,"rpv-core__menu-item-check--rtl":p})},n&&u.createElement(y,null)))},exports.MinimalButton=function(e){var t=e.ariaLabel,n=void 0===t?"":t,r=e.ariaKeyShortcuts,o=void 0===r?"":r,a=e.children,i=e.isDisabled,c=void 0!==i&&i,s=e.isSelected,l=void 0!==s&&s,p=e.testId,d=e.onClick,f=u.useContext(m).direction===exports.TextDirection.RightToLeft,v=p?{"data-testid":p}:{};return u.createElement("button",g({"aria-label":n},o&&{"aria-keyshortcuts":o},c&&{"aria-disabled":!0},{className:x({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":c,"rpv-core__minimal-button--rtl":f,"rpv-core__minimal-button--selected":l}),type:"button",onClick:d},v),a)},exports.Modal=function(e){var t=e.ariaControlsSuffix,n=e.closeOnClickOutside,r=e.closeOnEscape,o=e.content,a=e.isOpened,i=void 0!==a&&a,c=e.target,s=t||"".concat(I());return u.createElement(O,{target:c?function(e,t){return u.createElement("div",{"aria-expanded":t?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(s)},c(e,t))}:null,content:function(e){return u.createElement(C,null,u.createElement(T,{ariaControlsSuffix:s,closeOnClickOutside:n,closeOnEscape:r,onToggle:e},o(e)))},isOpened:i})},exports.Popover=function(e){var t=e.ariaHasPopup,n=void 0===t?"dialog":t,r=e.ariaControlsSuffix,o=e.closeOnClickOutside,a=e.closeOnEscape,i=e.content,c=e.lockScroll,s=void 0===c||c,l=e.offset,p=e.position,d=e.target,f=L(!1),v=f.opened,g=f.toggle,h=u.useRef(),m=r||"".concat(I());return u.createElement("div",{ref:h,"aria-expanded":v?"true":"false","aria-haspopup":n,"aria-controls":"rpv-core__popver-body-".concat(m)},d(g,v),v&&u.createElement(u.Fragment,null,s&&u.createElement(N,{closeOnEscape:a,onClose:g}),u.createElement(D,{ariaControlsSuffix:m,closeOnClickOutside:o,offset:l,position:p,targetRef:h,onClose:g},i(g))))},exports.PrimaryButton=R,exports.ProgressBar=function(e){var t=e.progress,n=u.useContext(m).direction===exports.TextDirection.RightToLeft;return u.createElement("div",{className:x({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":n})},u.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(t,"%")}},t,"%"))},exports.Separator=function(){return u.createElement("div",{className:"rpv-core__separator"})},exports.Spinner=b,exports.Splitter=function(e){var t=e.constrain,n=u.useContext(m).direction===exports.TextDirection.RightToLeft,r=u.useRef(),o=u.useRef(),a=u.useRef(),i=u.useRef(0),c=u.useRef(0),s=u.useRef(0),l=u.useRef(0),p={capture:!0},d=function(e){var c=r.current,u=o.current,p=a.current;if(c&&u&&p){var d=l.current,f=e.clientX-i.current,v=s.current+(n?-f:f),g=c.parentElement.getBoundingClientRect().width,h=100*v/g;if(c.classList.add("rpv-core__splitter--resizing"),t){var m=g-v-d;if(!t({firstHalfPercentage:h,firstHalfSize:v,secondHalfPercentage:100*m/g,secondHalfSize:m}))return}u.style.width="".concat(h,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),u.classList.add("rpv-core__splitter-sibling--resizing"),p.classList.add("rpv-core__splitter-sibling--resizing")}},f=function(e){var t=r.current,n=o.current,i=a.current;t&&n&&i&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),t.classList.remove("rpv-core__splitter--resizing"),n.classList.remove("rpv-core__splitter-sibling--resizing"),i.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",d,p),document.removeEventListener("mouseup",f,p))};return u.useEffect((function(){var e=r.current;e&&(l.current=e.getBoundingClientRect().width,o.current=e.previousElementSibling,a.current=e.nextElementSibling)}),[]),u.createElement("div",{ref:r,className:"rpv-core__splitter",onMouseDown:function(e){var t=o.current;t&&(i.current=e.clientX,c.current=e.clientY,s.current=t.getBoundingClientRect().width,document.addEventListener("mousemove",d,p),document.addEventListener("mouseup",f,p))}})},exports.TextBox=k,exports.ThemeContext=m,exports.Tooltip=function(e){var t=e.ariaControlsSuffix,n=e.content,r=e.offset,o=e.position,a=e.target,i=L(!1),c=i.opened,s=i.toggle,l=u.useRef(),p=u.useRef(),d=t||"".concat(I());P((function(){l.current&&document.activeElement&&l.current.contains(document.activeElement)&&v()}));var f=function(){s(exports.ToggleStatus.Open)},v=function(){s(exports.ToggleStatus.Close)};return u.createElement(u.Fragment,null,u.createElement("div",{ref:l,"aria-describedby":"rpv-core__tooltip-body-".concat(d),onBlur:function(e){e.relatedTarget instanceof HTMLElement&&e.currentTarget.parentElement&&e.currentTarget.parentElement.contains(e.relatedTarget)?p.current&&(p.current.style.display="none"):v()},onFocus:f,onMouseEnter:f,onMouseLeave:v},a),c&&u.createElement(B,{ariaControlsSuffix:d,contentRef:p,offset:r,position:o,targetRef:l},n()))},exports.Viewer=function(e){var t=e.characterMap,n=e.defaultScale,r=e.fileUrl,o=e.httpHeaders,a=void 0===o?{}:o,i=e.initialPage,c=void 0===i?0:i,s=e.localization,l=e.plugins,p=void 0===l?[]:l,d=e.renderError,f=e.renderPage,v=e.renderLoader,g=e.scrollMode,h=void 0===g?exports.ScrollMode.Vertical:g,x=e.transformGetDocumentParams,w=e.theme,E=void 0===w?{direction:exports.TextDirection.LeftToRight,theme:"light"}:w,y=e.withCredentials,R=void 0!==y&&y,b=e.onDocumentAskPassword,k=e.onDocumentLoad,S=void 0===k?function(){}:k,P=e.onPageChange,T=void 0===P?function(){}:P,C=e.onRotate,L=void 0===C?function(){}:C,O=e.onRotatePage,M=void 0===O?function(){}:O,I=e.onSwitchTheme,H=void 0===I?function(){}:I,A=e.onZoom,D=void 0===A?function(){}:A,N=u.useState({data:r,name:"string"==typeof r?r:"",shouldLoad:!1}),B=N[0],z=N[1],F=function(e,t){z({data:t,name:e,shouldLoad:!0})},q=u.useState(!1),U=q[0],Z=q[1],G=j(B);u.useEffect((function(){var e,t,n,o;e=G.data,o=typeof(t=r),"string"===(n=typeof e)&&"string"===o&&e===t||"object"===n&&"object"===o&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))||z({data:r,name:"string"==typeof r?r:"",shouldLoad:U})}),[r,U]);var Y=_({onVisibilityChanged:function(e){Z(e.isVisible),e.isVisible&&z((function(e){return Object.assign({},e,{shouldLoad:!0})}))}}),J="string"==typeof E?{direction:exports.TextDirection.LeftToRight,theme:E}:E,Q=u.useState(s||W),X=Q[0],K=Q[1],$={l10n:X,setL10n:K},ee=Object.assign({},{direction:J.direction},et(J.theme||"light",H));return u.useEffect((function(){s&&K(s)}),[s]),u.createElement(V.Provider,{value:$},u.createElement(m.Provider,{value:ee},u.createElement("div",{ref:Y,className:"rpv-core__viewer rpv-core__viewer--".concat(ee.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},B.shouldLoad&&u.createElement($e,{characterMap:t,file:B.data,httpHeaders:a,render:function(e){return u.createElement(Ze,{defaultScale:n,doc:e,render:function(t){return u.createElement(qe,{currentFile:{data:B.data,name:B.name},defaultScale:n,doc:e,initialPage:c,pageSize:t,plugins:p,renderPage:f,scrollMode:h,viewerState:{file:B,pageIndex:-1,pageHeight:t.pageHeight,pageWidth:t.pageWidth,pagesRotation:new Map,rotation:0,scale:t.scale,scrollMode:h},onDocumentLoad:S,onOpenFile:F,onPageChange:T,onRotate:L,onRotatePage:M,onZoom:D})},scrollMode:h})},renderError:d,renderLoader:v,transformGetDocumentParams:x,withCredentials:R,onDocumentAskPassword:b}))))},exports.Worker=function(e){var t=e.children,n=e.workerUrl;return p.GlobalWorkerOptions.workerSrc=n,u.createElement(u.Fragment,null,t)},exports.classNames=x,exports.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var o;t=g(g({},t),((o={})[e]=r,o)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},exports.getDestination=we,exports.getPage=xe,exports.isMac=function(){return"undefined"!=typeof window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},exports.renderQueueService=F,exports.useIntersectionObserver=_,exports.useIsMounted=Z,exports.useIsomorphicLayoutEffect=w;
